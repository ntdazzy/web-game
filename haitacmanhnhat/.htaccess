# Bật Rewrite Engine
RewriteEngine On
RewriteBase /haitacmanhnhat/

# Cho phép truy cập file hoặc thư mục thật
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

# Còn lại chuyển về index.php
RewriteRule ^(.*)$ src/pages/index.php [QSA,L]

# Bảo mật: chặn file nhạy cảm
<FilesMatch "\.(env|ini|log|sh|bak|swp|git|htaccess|htpasswd)$">
  Require all denied
</FilesMatch>

# Cache static để tăng tốc
<IfModule mod_expires.c>
  ExpiresActive On
  ExpiresByType text/css "access plus 7 days"
  ExpiresByType application/javascript "access plus 7 days"
  ExpiresByType image/webp "access plus 30 days"
  ExpiresByType image/png "access plus 30 days"
  ExpiresByType image/jpeg "access plus 30 days"
  ExpiresByType font/woff2 "access plus 30 days"
</IfModule>

# Nén Gzip cho HTML/CSS/JS
<IfModule mod_deflate.c>
  AddOutputFilterByType DEFLATE text/html text/css application/javascript text/javascript
</IfModule>

# Ẩn liệt kê thư mục
Options -Indexes
